<?xml version="1.0" encoding="utf-8"?>
<!--
  This file effectively takes the place of a number of .nuspec declarations
  so that we can build directly with .csproj files using "dotnet pack".
-->
<Project ToolsVersion="Current" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!--
    Set some .nuspec style properties
    Note: The Copyright property also comes from the Mlos.NetCore.Version.props file.
  -->
  <PropertyGroup>
    <PackageProjectUrl>https://github.com/Microsoft/MLOS</PackageProjectUrl>
    <RepositoryUrl>https://github.com/Microsoft/MLOS.git</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <Authors>Microsoft</Authors>
    <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <PackageTags>MLOS;Machine Learning;Optimization;Systems</PackageTags>
  </PropertyGroup>

  <!-- Unless specified on the commandline, set the default package output to the target/ dir. -->
  <PropertyGroup>
    <MlosPkgOutputBaseDir>$(BaseDir)/target/pkg</MlosPkgOutputBaseDir>
    <MlosPkgOutputDir>$(MlosPkgOutputBaseDir)/$(Configuration)</MlosPkgOutputDir>
    <PackageOutputPath>$(MlosPkgOutputDir)/</PackageOutputPath>
  </PropertyGroup>

  <!-- Also create a .snupkg along side the package for eventual publishing of symbols to nuget.org -->
  <PropertyGroup>
    <IncludeSymbols>true</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
  </PropertyGroup>

  <!--
    Note: PackTask alters the PackageVersion property slightly when writing the file,
    (e.g. dropping the "+{commitNumber}") so it is difficult to provide a "clean" target
    for removing packages. For now, just remove the target/pkg/... directory/files.
  -->
</Project>

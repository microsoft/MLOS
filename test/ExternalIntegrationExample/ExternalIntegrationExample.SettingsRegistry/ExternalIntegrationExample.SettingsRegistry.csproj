<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="MSBuild.Sdk.Extras/2.0.54">
  <!-- In a large project some properties will be reused across components. -->
  <Import Project="$(MSBuildProjectDirectory)/Common.props" />
  <PropertyGroup Label="GeneralProjectProperties">
    <!-- Note: Change this to a unique uuid/guid when creating a new project. -->
    <ProjectGuid>{7747149E-BB3B-4F9A-8F1B-D94A062B492F}</ProjectGuid>
    <OutputType>Library</OutputType>
    <RootNamespace>ExternalIntegrationExample</RootNamespace>
    <AssemblyName>ExternalIntegrationExample.SettingsRegistry</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Label="MlosCodeGenProperties">
    <MlosSettingsSystemCodeGenOutputDirectory>$(MlosSettingsSystemCodeGenOutputBaseDir)/ExternalIntegrationExample</MlosSettingsSystemCodeGenOutputDirectory>
  </PropertyGroup>
  <!-- TODO:
    Just for connecting the testing example:
    - add a reference to the Pack target for that package.
    - add the Mlos output package dir to the nuget sources
    - use another import for that for now
  -->
  <ItemGroup>
    <!-- Pull in the Mlos codegen package tool (any version for now) -->
    <!-- TODO: Make sure it doesn't add any build dependencies -->
    <PackageReference Include="Mlos.SettingsSystem.CodeGen" Version="*-*" />
  </ItemGroup>
  <!--
    List data structures for the settings and messages to be used for code generation.
  -->
  <ItemGroup Label="MlosSettingsRegistryDefinitions">
    <MlosSettingsRegistryDefinition Include="Codegen/AssemblyInfo.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/DemoComponentConfig.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/UpdateConfigTestMessage.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/TestSettingsRegistry1.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/TestSettingsRegistry2.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/TestSettingsRegistry3.cs" />
    <MlosSettingsRegistryDefinition Include="Codegen/TestSettingsRegistry4.cs" />
  </ItemGroup>
  <!--
    Add any additional .cs files necessary for compilation for the output assembly
    to use when loading in the Mlos.Agent.Server.Tool.
    (e.g. for some initialization code at registration/load time).
  -->
  <ItemGroup>
    <Compile Include="AssemblyInitializer.cs" />
  </ItemGroup>
</Project>
